# 04일차 - 데이터 시각화

> **🎯 오늘의 목표**: matplotlib으로 데이터를 그래프로 시각화하여 인사이트를 발견합니다!

```table-of-contents
```

---

# 🌟 오늘 무엇을 만들까요?

## 완성 화면 미리보기

**프로젝트 1: 성적 분석 대시보드** (11:30 완성 목표)
```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📊 과목별 성적 분석
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

과목별 점수 (막대 그래프)
100 ┤
 90 ┤     ██
 80 ┤ ██  ██      ██
 70 ┤ ██  ██  ██  ██
    └─────────────────
     국어 영어 수학 과학

평균 점수: 85.75점
최고 점수: 92점 (영어)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**프로젝트 2: 매출 추이 분석 시스템** (14:30 완성 목표)
```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📈 월별 매출 추이
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

매출 (만원)
200 ┤                    ●
150 ┤              ●
100 ┤  ●   ●   ●
 50 ┤
    └──────────────────────
     1월 2월 3월 4월 5월 6월

• 최고 매출: 6월 (200만원)
• 평균 매출: 133만원
• 성장률: +100%
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**프로젝트 3: 다차원 분석 대시보드** (16:00 완성 목표)
```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📊 4가지 시각화 한눈에 보기
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

┌──────────┬──────────┐
│ 선그래프 │ 막대그래프│
│   📈    │    📊    │
├──────────┼──────────┤
│ 원그래프 │히스토그램│
│   🥧    │    📉    │
└──────────┴──────────┘

subplot으로 4개 차트 동시 표시!
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

---

# 💡 시작하기 전에: 왜 데이터 시각화인가요?

## "숫자만 봐도 충분한데, 왜 그래프가 필요한가요?"

**답은 "절대 필요합니다!"** 데이터 시각화는 선택이 아니라 필수입니다.

### 📊 숫자 vs 그래프: 앤스컴의 콰르텟

다음 4개의 데이터셋은 **평균, 분산, 상관계수가 모두 동일**합니다:

```
데이터셋 1: 평균=9, 분산=11, 상관=0.82
데이터셋 2: 평균=9, 분산=11, 상관=0.82
데이터셋 3: 평균=9, 분산=11, 상관=0.82
데이터셋 4: 평균=9, 분산=11, 상관=0.82
```

**하지만 그래프로 보면?**
- 데이터셋 1: 선형 관계
- 데이터셋 2: 곡선 관계
- 데이터셋 3: 이상치 존재
- 데이터셋 4: 특이값 하나가 전체 상관계수 결정

> 💡 **핵심**: 숫자만 보면 놓치는 패턴을 그래프는 즉시 보여줍니다!

### 🚀 실제 시나리오: 데이터 시각화의 위력

**시나리오 1: 마케팅 보고서**

```
[숫자만 보는 사람]
"1월: 100만원, 2월: 120만원, 3월: 90만원..."
⏱️ 10분 동안 숫자를 읽어도 트렌드 파악 어려움

[그래프 보는 사람]
매출 추이 선 그래프를 3초 만에 확인
→ 3월 급감, 6월 급증 패턴 즉시 발견!
⚡ 3초 만에 인사이트 발견
```

**시나리오 2: 경영진 보고**

```
[표로 제시]
경영진: "수치를 요약해서 다시 보고해"
⏱️ 추가 작업 2시간

[그래프로 제시]
경영진: "한눈에 이해됩니다! 승인!"
⚡ 즉시 의사결정
```

### 💼 데이터 시각화로 할 수 있는 것

**패턴 발견**:
- 추세: 증가, 감소, 정체
- 주기성: 반복 패턴
- 이상치: 비정상 데이터
- 상관관계: 변수 간 관계

**커뮤니케이션**:
- 복잡한 데이터를 쉽게 설명
- 경영진 설득력 향상
- 팀 간 공유 효율화

**의사결정**:
- 데이터 기반 판단
- 빠른 의사결정
- 리스크 예측

> 💡 **핵심**: "데이터 시각화는 데이터를 **이야기**로 바꾸는 기술!"

---

# 🤔 프로젝트 준비: 어떤 그래프를 사용할까요? (10분)

## 🎯 코딩 전에 먼저 생각해보기

> **핵심 질문**: "그래프는 도구입니다. 여러분이 **무엇을 전달하고 싶은지** 정하는 게 먼저!"

**질문 1: 어떤 그래프를 본 적 있나요?**
```
- 뉴스에서 본 그래프?
- 회사/학교 보고서의 그래프?
- SNS에서 본 인포그래픽?

💭 [30초 생각해보기]
```

**질문 2: 상황별로 어떤 그래프가 적합할까요?**
```
상황 1: 월별 매출 추이를 보여주고 싶다
→ 선 그래프? 막대 그래프?

상황 2: 제품별 판매량 비교
→ 막대 그래프? 원 그래프?

상황 3: 예산 지출 비율 (식비, 교통비 등)
→ 원 그래프? 선 그래프?

💭 [짝꿍과 1분 이야기하기]
```

**질문 3: 내가 정말 시각화하고 싶은 데이터는?**
```
예시:
- 개인 가계부 지출 패턴
- 일일 운동 기록 추이
- 학습 시간과 성적의 관계
- 주식 투자 수익률

✍️ [내 관심사 1가지 적어보기]
```

---

## 💡 그래프 종류별 사용 가이드

**막대 그래프** (Bar Chart):
- 📊 카테고리별 비교
- 예: 과목별 점수, 제품별 판매량

**선 그래프** (Line Chart):
- 📈 시간에 따른 변화
- 예: 월별 매출, 일별 기온

**원 그래프** (Pie Chart):
- 🥧 전체 대비 비율
- 예: 예산 지출 비율, 시장 점유율

**히스토그램** (Histogram):
- 📉 데이터 분포
- 예: 시험 점수 분포, 나이 분포

**산점도** (Scatter Plot):
- 🎯 두 변수 간 상관관계
- 예: 공부 시간 vs 성적, 광고비 vs 매출

**💡 오늘의 핵심**:
```
❌ 모든 그래프를 완벽하게 마스터하기
✅ 상황에 맞는 그래프를 선택하고 빠르게 그리기
```

---

## 📦 matplotlib 설치

```bash
pip install matplotlib
```

---

## matplotlib으로 데이터 시각화

**필요한 문법**:
```python
import matplotlib.pyplot as plt
import pandas as pd

# 한글 폰트 설정 (한글 깨짐 방지)
plt.rcParams['font.family'] = 'Malgun Gothic'
plt.rcParams['axes.unicode_minus'] = False

# 샘플 데이터
data = {
    "과목": ["국어", "영어", "수학", "과학"],
    "점수": [85, 92, 78, 88]
}
df = pd.DataFrame(data)

# 막대 그래프
plt.figure(figsize=(8, 6))
plt.bar(df["과목"], df["점수"], color=['red', 'blue', 'green', 'orange'])
plt.title("과목별 점수", fontsize=16)
plt.xlabel("과목", fontsize=12)
plt.ylabel("점수", fontsize=12)
plt.ylim(0, 100)
plt.show()

# 선 그래프
months = ["1월", "2월", "3월", "4월", "5월"]
sales = [100, 120, 90, 150, 140]

plt.figure(figsize=(10, 6))
plt.plot(months, sales, marker='o', linestyle='-', color='blue', linewidth=2)
plt.title("월별 매출 추이", fontsize=16)
plt.xlabel("월", fontsize=12)
plt.ylabel("매출 (만원)", fontsize=12)
plt.grid(True)
plt.show()

# 원 그래프
sizes = [30, 25, 20, 25]
labels = ["A", "B", "C", "D"]
colors = ['gold', 'lightblue', 'lightgreen', 'pink']

plt.figure(figsize=(8, 8))
plt.pie(sizes, labels=labels, colors=colors, autopct='%1.1f%%', startangle=90)
plt.title("비율 분석", fontsize=16)
plt.show()
```

**실행 결과 (막대 그래프)**:
```
과목별 점수
100 ┤
 90 ┤     ██
 80 ┤ ██  ██      ██
 70 ┤ ██  ██  ██  ██
    └─────────────────
     국어 영어 수학 과학
```

**설명**:
- **matplotlib**: 데이터 시각화 라이브러리
- **plt.figure()**: 새로운 그래프 생성
- **figsize**: 그래프 크기 (inch 단위)
- **bar()**: 막대 그래프
- **plot()**: 선 그래프
- **pie()**: 원 그래프
- **title/xlabel/ylabel**: 제목, 축 라벨
- **show()**: 그래프 표시
- **grid()**: 격자 표시
- **rcParams**: matplotlib 전역 설정

**그래프 종류별 사용법**:
```python
# 막대 그래프
plt.bar(categories, values)

# 선 그래프
plt.plot(x, y, marker='o')

# 원 그래프
plt.pie(sizes, labels=labels, autopct='%1.1f%%')
```

**AI 활용 프롬프트**:
```
"여러 개의 그래프를 한 화면에 배치하는 subplot 사용법을 알려줘"
"그래프를 파일로 저장하는 방법을 알려줘"
"산점도(scatter plot)를 그리는 방법과 활용 예시를 보여줘"
```

---

## 실습 . 한글 폰트 설정 및 기본 그래프

**한글 폰트 설정**:
```python
import matplotlib.pyplot as plt
import platform

# 운영체제별 한글 폰트 설정
if platform.system() == 'Windows':
    plt.rcParams['font.family'] = 'Malgun Gothic'
elif platform.system() == 'Darwin':  # macOS
    plt.rcParams['font.family'] = 'AppleGothic'
else:  # Linux
    plt.rcParams['font.family'] = 'NanumGothic'

plt.rcParams['axes.unicode_minus'] = False  # 마이너스 기호 깨짐 방지

# 테스트
plt.figure(figsize=(6, 4))
plt.plot([1, 2, 3, 4], [1, 4, 2, 3])
plt.title('한글 제목 테스트')
plt.xlabel('X축 레이블')
plt.ylabel('Y축 레이블')
plt.show()
```

---

## 실습 . 막대 그래프 (Bar Chart)

**기본 막대 그래프**:
```python
import matplotlib.pyplot as plt
import pandas as pd

# 데이터 준비
subjects = ['국어', '영어', '수학', '과학', '사회']
scores = [85, 92, 78, 88, 90]

# 그래프 생성
plt.figure(figsize=(10, 6))
plt.bar(subjects, scores, color='skyblue', width=0.6)

plt.title('과목별 점수', fontsize=16, fontweight='bold')
plt.xlabel('과목', fontsize=12)
plt.ylabel('점수', fontsize=12)
plt.ylim(0, 100)

# 값 표시
for i, score in enumerate(scores):
    plt.text(i, score + 2, str(score), ha='center', fontsize=10)

plt.grid(axis='y', alpha=0.3)
plt.show()
```

**가로 막대 그래프**:
```python
import matplotlib.pyplot as plt

# 데이터
products = ['제품A', '제품B', '제품C', '제품D', '제품E']
sales = [3500, 4200, 2800, 3900, 4500]

plt.figure(figsize=(10, 6))
plt.barh(products, sales, color='coral')

plt.title('제품별 판매량', fontsize=16)
plt.xlabel('판매량 (개)', fontsize=12)
plt.ylabel('제품', fontsize=12)

# 값 표시
for i, sale in enumerate(sales):
    plt.text(sale + 100, i, f'{sale:,}', va='center', fontsize=10)

plt.grid(axis='x', alpha=0.3)
plt.show()
```

**그룹 막대 그래프**:
```python
import matplotlib.pyplot as plt
import numpy as np

# 데이터
categories = ['1분기', '2분기', '3분기', '4분기']
product_a = [120, 140, 130, 160]
product_b = [100, 130, 145, 155]

x = np.arange(len(categories))
width = 0.35

fig, ax = plt.subplots(figsize=(10, 6))
bars1 = ax.bar(x - width/2, product_a, width, label='제품A', color='skyblue')
bars2 = ax.bar(x + width/2, product_b, width, label='제품B', color='lightcoral')

ax.set_title('분기별 제품 판매 실적', fontsize=16)
ax.set_xlabel('분기', fontsize=12)
ax.set_ylabel('판매량 (개)', fontsize=12)
ax.set_xticks(x)
ax.set_xticklabels(categories)
ax.legend()
ax.grid(axis='y', alpha=0.3)

plt.show()
```

---

## 실습 . 선 그래프 (Line Chart)

**기본 선 그래프**:
```python
import matplotlib.pyplot as plt

# 데이터
months = ['1월', '2월', '3월', '4월', '5월', '6월']
temperature = [5, 7, 12, 18, 23, 28]

plt.figure(figsize=(10, 6))
plt.plot(months, temperature, marker='o', linestyle='-',
         color='green', linewidth=2, markersize=8)

plt.title('월별 평균 기온', fontsize=16)
plt.xlabel('월', fontsize=12)
plt.ylabel('기온 (°C)', fontsize=12)
plt.grid(True, alpha=0.3)

# 값 표시
for i, temp in enumerate(temperature):
    plt.text(i, temp + 1, f'{temp}°C', ha='center', fontsize=9)

plt.show()
```

**다중 선 그래프**:
```python
import matplotlib.pyplot as plt

# 데이터
months = ['1월', '2월', '3월', '4월', '5월', '6월']
sales_2023 = [100, 120, 90, 150, 140, 180]
sales_2024 = [110, 130, 95, 160, 155, 200]

plt.figure(figsize=(12, 6))
plt.plot(months, sales_2023, marker='o', label='2023년', linewidth=2)
plt.plot(months, sales_2024, marker='s', label='2024년', linewidth=2)

plt.title('연도별 월별 매출 비교', fontsize=16)
plt.xlabel('월', fontsize=12)
plt.ylabel('매출 (만원)', fontsize=12)
plt.legend(fontsize=12)
plt.grid(True, alpha=0.3)

plt.show()
```

---

## 실습 . 원 그래프 (Pie Chart)

**기본 원 그래프**:
```python
import matplotlib.pyplot as plt

# 데이터
categories = ['식비', '교통비', '문화생활', '기타']
amounts = [450000, 150000, 200000, 100000]
colors = ['gold', 'lightblue', 'lightgreen', 'pink']

plt.figure(figsize=(8, 8))
plt.pie(amounts, labels=categories, colors=colors,
        autopct='%1.1f%%', startangle=90, textprops={'fontsize': 12})

plt.title('월별 지출 내역', fontsize=16)
plt.show()
```

**도넛 차트**:
```python
import matplotlib.pyplot as plt

# 데이터
labels = ['완료', '진행중', '대기']
sizes = [45, 30, 25]
colors = ['', '', '']

plt.figure(figsize=(8, 8))
plt.pie(sizes, labels=labels, colors=colors, autopct='%1.1f%%',
        startangle=90, textprops={'fontsize': 12}, wedgeprops={'width': 0.3})

plt.title('프로젝트 진행 상황', fontsize=16)
plt.show()
```

---

## 실습 . 히스토그램 (Histogram)

```python
import matplotlib.pyplot as plt
import numpy as np

# 샘플 데이터 생성 (정규분포)
np.random.seed(42)
data = np.random.normal(100, 15, 1000)  # 평균 100, 표준편차 15

plt.figure(figsize=(10, 6))
plt.hist(data, bins=30, color='skyblue', edgecolor='black', alpha=0.7)

plt.title('점수 분포', fontsize=16)
plt.xlabel('점수', fontsize=12)
plt.ylabel('빈도', fontsize=12)
plt.axvline(data.mean(), color='red', linestyle='--',
            linewidth=2, label=f'평균: {data.mean():.1f}')
plt.legend()
plt.grid(axis='y', alpha=0.3)

plt.show()
```

---

## 실습 . 산점도 (Scatter Plot)

```python
import matplotlib.pyplot as plt
import numpy as np

# 데이터 생성
np.random.seed(42)
study_hours = np.random.uniform(1, 10, 50)
scores = study_hours * 8 + np.random.normal(0, 10, 50)

plt.figure(figsize=(10, 6))
plt.scatter(study_hours, scores, s=100, c=scores,
            cmap='viridis', alpha=0.6, edgecolors='black')

plt.title('공부 시간과 성적의 관계', fontsize=16)
plt.xlabel('공부 시간 (시간)', fontsize=12)
plt.ylabel('성적 (점)', fontsize=12)
plt.colorbar(label='성적')
plt.grid(True, alpha=0.3)

plt.show()
```

---

## 실습 . 서브플롯 (Subplot) - 여러 그래프 한 화면에

```python
import matplotlib.pyplot as plt
import numpy as np

# 데이터
x = np.linspace(0, 10, 100)

fig, axs = plt.subplots(2, 2, figsize=(12, 10))

# 1번 그래프: 선 그래프
axs[0, 0].plot(x, np.sin(x), 'b-')
axs[0, 0].set_title('Sin 함수')
axs[0, 0].grid(True, alpha=0.3)

# 2번 그래프: 막대 그래프
categories = ['A', 'B', 'C', 'D']
values = [23, 45, 56, 78]
axs[0, 1].bar(categories, values, color='coral')
axs[0, 1].set_title('카테고리별 값')
axs[0, 1].grid(axis='y', alpha=0.3)

# 3번 그래프: 원 그래프
sizes = [30, 25, 20, 25]
axs[1, 0].pie(sizes, labels=['A', 'B', 'C', 'D'], autopct='%1.1f%%')
axs[1, 0].set_title('비율 분석')

# 4번 그래프: 히스토그램
data = np.random.normal(0, 1, 1000)
axs[1, 1].hist(data, bins=30, color='skyblue', edgecolor='black')
axs[1, 1].set_title('정규분포')
axs[1, 1].grid(axis='y', alpha=0.3)

plt.tight_layout()
plt.show()
```

---

## 실습 . 그래프 스타일링

**색상 커스터마이징**:
```python
import matplotlib.pyplot as plt

data = {'A': 45, 'B': 60, 'C': 55, 'D': 70}
colors = ['', '', '', '']

plt.figure(figsize=(10, 6))
bars = plt.bar(data.keys(), data.values(), color=colors)

plt.title('커스텀 색상 막대 그래프', fontsize=16)
plt.ylabel('값', fontsize=12)

# 각 막대에 다른 스타일
bars[0].set_hatch('//')
bars[1].set_hatch('xx')
bars[2].set_hatch('...')
bars[3].set_hatch('oo')

plt.grid(axis='y', alpha=0.3)
plt.show()
```

**그래프 저장**:
```python
import matplotlib.pyplot as plt

plt.figure(figsize=(10, 6))
plt.plot([1, 2, 3, 4], [1, 4, 2, 3])
plt.title('샘플 그래프')

# 다양한 형식으로 저장
plt.savefig('graph.png', dpi=300, bbox_inches='tight')  # PNG
plt.savefig('graph.pdf', bbox_inches='tight')            # PDF
plt.savefig('graph.svg', bbox_inches='tight')            # SVG

plt.show()
```

---

## 💡 matplotlib 핵심 정리

### 기본 구조
```python
import matplotlib.pyplot as plt

plt.figure(figsize=(가로, 세로))  # 새 그래프 생성
plt.그래프종류(데이터)            # 그래프 그리기
plt.title('제목')                # 제목
plt.xlabel('X축 레이블')         # X축 레이블
plt.ylabel('Y축 레이블')         # Y축 레이블
plt.legend()                     # 범례
plt.grid()                       # 격자
plt.show()                       # 화면에 표시
```

### 주요 그래프 종류
```python
plt.plot(x, y)                   # 선 그래프
plt.bar(x, y)                    # 막대 그래프
plt.barh(x, y)                   # 가로 막대 그래프
plt.pie(sizes, labels=labels)    # 원 그래프
plt.hist(data, bins=n)           # 히스토그램
plt.scatter(x, y)                # 산점도
plt.boxplot(data)                # 상자 그래프
```

### 스타일링
```python
color='red'                      # 색상
linewidth=2                      # 선 두께
linestyle='-'                    # 선 스타일 (-, --, :, -.)
marker='o'                       # 마커 모양 (o, s, ^, *, +)
alpha=0.5                        # 투명도 (0~1)
```

---

## AI 활용 프롬프트 모음

**기초 학습**:
```
"matplotlib의 주요 그래프 종류와 용도를 설명해줘"
"subplot을 사용해서 그래프 여러 개를 배치하는 방법을 알려줘"
"matplotlib과 seaborn의 차이점을 알려줘"
```

**실무 활용**:
```
"시계열 데이터를 효과적으로 시각화하는 방법을 알려줘"
"한글이 깨지지 않게 설정하는 방법을 알려줘"
"범례를 그래프 밖에 배치하는 방법을 알려줘"
"그래프에 주석(annotation)을 추가하는 방법을 알려줘"
```

**고급 기능**:
```
"3D 그래프를 그리는 방법을 알려줘"
"애니메이션 그래프를 만드는 방법을 알려줘"
"대화형(interactive) 그래프를 만드는 방법을 알려줘"
```

---

## 🎓 4일차 학습 완료!

**오늘 배운 것**:
1. ✅ matplotlib 기초 문법
2. ✅ 막대 그래프 (Bar Chart)
3. ✅ 선 그래프 (Line Chart)
4. ✅ 원 그래프 (Pie Chart)
5. ✅ 히스토그램 (Histogram)
6. ✅ 산점도 (Scatter Plot)
7. ✅ 서브플롯 (Subplot)
8. ✅ 그래프 스타일링 및 저장

**다음 학습**:
- Excel 대시보드 자동화 (xlwings)
- 웹 대시보드 구축 (Streamlit)
- 최종 프로젝트: 가계부 앱

---

## ✅ 학습 완료 체크리스트

**기초 개념**:
- [ ] 데이터 시각화가 왜 중요한지 3가지 이유를 설명할 수 있다
- [ ] matplotlib의 기본 구조를 이해했다
- [ ] 한글 폰트 설정 방법을 안다

**그래프 종류**:
- [ ] 막대 그래프를 그릴 수 있다
- [ ] 선 그래프로 추이를 표현할 수 있다
- [ ] 원 그래프로 비율을 나타낼 수 있다
- [ ] 히스토그램으로 분포를 표현할 수 있다
- [ ] 산점도로 상관관계를 표현할 수 있다

**그래프 커스터마이징**:
- [ ] 그래프 제목과 축 레이블을 추가할 수 있다
- [ ] 색상과 스타일을 변경할 수 있다
- [ ] 범례와 격자를 추가할 수 있다
- [ ] 서브플롯으로 여러 그래프를 배치할 수 있다

**실전 활용**:
- [ ] 상황에 맞는 그래프 종류를 선택할 수 있다
- [ ] 그래프를 파일로 저장할 수 있다
- [ ] AI에게 matplotlib 관련 질문을 효과적으로 할 수 있다

**프로젝트**:
- [ ] 성적 분석 대시보드를 완성했다
- [ ] 매출 추이 분석 시스템을 완성했다
- [ ] 4가지 시각화 대시보드를 완성했다

**모두 체크하셨다면 축하합니다! 🎉**

다음 시간에는 Excel 대시보드를 자동으로 생성하는 방법을 배웁니다!
